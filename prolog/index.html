<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>Hello, Prolog</title>
    </head>
    <body>
        <div>
            A static HTML file.
        </div>
        <img src="prolog.jpg" alt="">
        <div>
            <div>Factorial Prolog generator!</div>
            <input type="number" name="factorial" id="factorial" value="7">
            <div id="app"></div>
        </div>
        <script>
            document.getElementById("factorial").addEventListener("change", ev => {
                render({ seed: ev.target.value })
            })

let render = ({ seed }) => {
    // TODO Use an actual JS framework
    fetch(`/data?seed=${seed}`)
        .then(response => response.json())
        .then(({ value }) => {
            document.getElementById("app").innerHTML = value
        })
}

// Initial render
render({ seed: document.getElementById("factorial").value })
        </script>
    </body>
</html>
